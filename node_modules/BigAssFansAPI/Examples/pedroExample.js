var bigAssApi = require("../BigAssApi");
var myMaster = new bigAssApi.FanMaster(1); // Expect only one fan in my setup

myMaster.onFanFullyUpdated = function(myBigAss){
	console.log("Initial Big Ass Motion value: " + myBigAss.sensor.isOccupied);
	// Register for an update callback (say if the phone updates the property)
	myBigAss.sensor.registerUpdateCallback("isOccupied", function (newValue) {
	    console.log("Updated motion value: " + myBigAss.sensor.isOccupied); // or newValue
	});

	// Register for an update callback (say if the phone updates the property)
    myBigAss.light.registerUpdateCallback("brightness", function (newValue) {
        console.log("Updated brightness value: " + myBigAss.light.brightness); // or newValue
    })
    
	myBigAss.sensor.update("isOccupied");  // Forces an update to motion
};